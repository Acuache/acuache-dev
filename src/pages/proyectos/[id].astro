---
import BackgroundArt from "@components/BackgroundArt.astro";
import { Image } from "astro:assets";
import Layout from "@/layouts/Layout.astro";
import type { GetStaticPaths } from "astro";
import projects from "@/data/projects.json";
import {
  Astroo,
  React as ReactIcon,
  CSS,
  HTML,
  JavaScript,
  TypeScript,
  TailwindCSS,
  Zod,
  Zustand,
  ReactRouter,
  TanStack,
  Supabase,
  PostgreSQL,
  Figma,
} from "@components/icons/react";

export const getStaticPaths = (() => {
  const filter = projects.map((project) => ({
    params: { id: project.id },
    props: { project },
  }));
  return filter;
}) satisfies GetStaticPaths;

const { project } = Astro.props;
const SKILL_ICONS: Record<string, any> = {
  Astro: Astroo,
  React: ReactIcon,
  CSS,
  HTML,
  JavaScript,
  TypeScript,
  "React Router": ReactRouter,
  "TanStack Query": TanStack,
  TailwindCSS,
  Zod,
  Zustand,
  Supabase,
  PostgreSQL,
  Figma,
};

import detailAnimacionesQueImpactan from "@project-detail/detail-animaciones-que-impactan.png";
import detailGamePerfect from "@project-detail/detail-game-perfect.png";
import detailEcommerceFrontend from "@project-detail/detail-ecommerce-frontend.png";
const PROJECT_IMAGES: Record<string, any> = {
  "detail-animaciones-que-impactan": detailAnimacionesQueImpactan,
  "detail-game-perfect": detailGamePerfect,
  "detail-ecommerce-frontend": detailEcommerceFrontend,
};
const imagenProject = PROJECT_IMAGES[`detail-${project.id}`];
---

<Layout>
  <BackgroundArt />
  <main class="flex flex-col gap-5 md:flex-row sm:mt-5">
    <div class="flex-1/3">
      <h1 class="text-4xl text-st mb-5 sm:text-5xl text-balance">
        {project.title}
      </h1>
      <p>{project.description}</p>
    </div>
    <div
      class="flex justify-center items-center mx-auto max-w-120 md:max-w-none md:flex-2/3"
    >
      <Image
        src={imagenProject}
        layout="constrained"
        alt={`Imagen del proyecto ${project.title}`}
      />
    </div>
  </main>
  <div class="flex flex-col gap-5 mt-5 md:flex-row md:mt-10">
    <div class="flex gap-2 flex-col">
      <h3 class="text-xl">LOGROS</h3>
      <ul class="flex flex-col gap-2">
        {
          project.success.map((good) => (
            <li class="flex items-center gap-2">
              <p class="">{good}</p>
            </li>
          ))
        }
      </ul>
    </div>
    <div class="flex gap-2 flex-col">
      <h3 class="text-xl">RETOS</h3>
      <ul>
        {
          project.success.map((good) => (
            <li class="flex items-center gap-2">
              <div
                class="size-2 bg-white rounded-full shrink-0"
                aria-hidden="true"
              />
              <p>{good}</p>
            </li>
          ))
        }
      </ul>
    </div>
  </div>
</Layout>
